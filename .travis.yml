language: objective-c
osx_image: xcode8.0

cache:
- bundler

rvm: 
- 2.2.5

before_install:
- brew update
- brew outdated xctool || brew upgrade xctool
- brew outdated carthage || brew upgrade carthage
- gem install xcov --no-ri --no-rdoc --no-document
- gem update fastlane --no-ri --no-rdoc --no-document
- gem uninstall bundler -v '>1.12.5' --force || echo "bundler >1.12.5 is not installed"
- gem install bundler -v 1.12.5 --no-rdoc --no-ri --no-document --quiet
- bundle install --deployment --retry 3
- bundle exec pod repo update --silent

install: true

before_script:
- ".travis/add_keychain.sh"

script:
- ".travis/script.sh"

after_script:
- ".travis/remove_keychain.sh"

branches:
  only:
  - master
  - development

env:
  global:
  - secure: KKb+JHQHSp9wlYZ+c75mFNAxZAePX1aENWCTIyKl1xCG46GCmNDVqBXWEQ+z3lIBOBZhVOIp9Mjno2msQTTjVSse80TOrHLLIqUBn4mIvfW4llcmmcCS8aZC7eRAX/yd7E+bNDwpV5RblurkzdMZEdGR3LNYdaukmWGR84hVgdc7HAr/8QDtMtRGibKdVVfn3lno4aJchzOJghFrRdYO7PXnKmAdRm9zNSlALCnWxqRgcY5ClzVeviWb0iRwRr7pXjJWJFourYQp0NzyrGMUMEei3An7KdQ4kbOS0XrmTPp5CaL6T7RmRTVRtH0ndRGrc4qBhvCoWFTthlK8oI+8tzmazHAhdcmL5G+owIDRJk2ioAEsc0cucZxHAK3x9JfiZSeZyfdSuELgwLdf3z/pr3WjA4y5SXCG0D/mc8wzW4e6nhTpbPSGLCEwlJ4guRCXw7pAqOniu89//gFJiOZXmEZ5R3gErG57Q8EHGS1x02pE4bUBzA0tOT74n+uKpzkxz7jOpkPrKUtfm+Kg6lx572WGaRPQzEH5AwmDPXkKkNoRDkESUtDyJLxbzzdR4yYcu7w8d6IC7vWSK+jgnYHq19TGBsaNL5zedU/c8JhOeLdjlqTDES28c/fbPgFSwiluKV6WT3+/3QNjgtbyeJZf+Id1cAKe149iw4GW2WzPPik=
  - secure: whE/8pvYC/uAoBb4A9K9OXToWvlbB8x8fuZFDNBQj8DgWom8yTAAWaY93bBuLXVN9tOjW/vywMfqKG9ns0Wi1kXJaRRwvyh+UwMhTPiHprG+VrG5HYrLR7je7GnFZ6+nH0AUyl4SdrbLlUKRRvK8+dj1uMp0N8BTIGwRcf2uHHptYJsYfI/bDwOdSB54LjmsJCLAojnKLaaQiJYAm3bcC1VK74usI//9gjnW5pUL/qtw/0PauK9L8yMEGEaXMn9b7hOLgWL4gqd6RVAqHxvmhRKILHmgZK+0ShUOMeDzA3obiVtSPktwCRa47CkTMU+D2Rntj7ku3/Y+wrdGa6g4U9ZsVIemF0y6iEoEqXfww1qXTO2LU1lyn2Ikj3c7SIkjmNIeNqZEy/qmczbVoWLGCJulwJVW9BPnRLenkHT1L0hfa26ofnJhupu5W61jErFfud55/9OZfQr9i5o+VVTjboFSO0i6Qwg7quYGY6+xtASIgyh0MJxYHsrCotQLA7T1x56ysDnJ7d132hVhfPrGfah5aKwBre4N7cKvwMy7JIDvBVcc1UmMlusm8Ckmqebp0/4WZGqS+2QN81997aZ029h2ROI21qZADUPPE1ey2zjeCbEJ4cI/wH6LOk3uv7WxjEoispTgfip/HdY8+HoJ84Xetc8S0SG55vO07CQKsPk=
  - secure: diZoYt4aTBA38EykLuv9m9P5ZFS37ue+2uNK8NZ2OAK6YHXCG21JeKHAq68My7XwZr1SRj6lZSqyopYw+BHpWgFK4+JxvKt4oryZRm3LXkFhxnExZg7TGrNFHBDIsChcHH/tHMEIpc//4x9tPjH1eISZ2OtfYPXvYVqZi+jbTeWFM0AMMF7Pr4L43aYQP9/lzyTXtQpSygiJmVphtTnpFPXs6wbfKT1GANPuyiEjIhyD594h9wkZlPaTywF6Whl9YQ5CTf0r52KtChy+R7voFmU0FCtPomPwCRpJ+T4zalhDvhE9vJ8omMJqzEF0nbSR6MOAYbHVdzE9OSDoPKe3sS3xf4GCX1l6zMe4sde9KJJZpG5gMERBgOogzKqtkCZtj5i8lCKND47XebSjfM444ivouMxfIEmpl/D8sm95dI6GvO4cTC9dNTFv/QiF8xTJtcWWVtjXYAAZmw9vu+EXcCV+a7wNuciSqi/92ICAtxEIsfO6UggYhv5c9qFIU674X09Zd5M/5+J+dcWy6O8CefIkHRByxrZgtFeV1V3PXjZ/sAiey3DsfATLbeeb57frA+F6mIKf6vci2tbEfloHDL0TOJnvfbuyOBYRtiX7WBh/vBjqQ3OyY70e7gwptv3J1jzYXmbV4x4da1PfWuVcuUIEyOcyuCdax6YIvth86/o=
  - secure: RkohqZqouoXzmi1o4jvNqwPxbqDHfUu5VKgz3Ma5OdlfACX6cwymHaS4l/s47RzweqRKeEtZpJWox8E/RtTQhvxd07PZlqNRPO/+o2HIhxAvXOOEdFWbcVkvHwJ5EsfiGUIEV9v7uGBSzqCn1g3e5HJfleJ0+LXDVRyK4cisJ7whQ0COjol6CgTWfazjouDB+eRbnSkooQcUdovE3vVknU+ER1rL6l/96vnlcePG3L/XqB+wxUAwLVcB7/mZ5WNtNzFWgq9In4XW4Nuo/mY7kAcjoYpPyc9E28sgfiUtNGpN9+p9KuHBkCTlqk3F1yCgXzvsx+2bR1kZsBKd9kBGTT3NymETd6eu9s5ZsBc0H2sfuCiZWb2uR7Ipdn0udldOwz1joy7LCfCcxWuxExWaS2Ah7u9Gq5MoPY4cjioNgrTA1BlwbZXp1yAeNYqkde1i/AAgmHtepXUfr7w5QIB+VTkMpC8mXmTnAddZayYVZ78gkCJ7BS9NNkLhUbXnStzdUdGjjQ0Y/NsVF2YXPhOiheOCRGIyduJEIvMpDfMY47/xELNgR7HWcRKhfnSmk9wGHS2tGd9J8NHFuvVxRalUNPtuKbNnCNNevT9Rc7urRp10vTXgjf2HVQFluPY7E9JRGNBiO/KueO9wgg6aFYbpOomJUopdV+eFi8i3m1+WUhU=
  - secure: TUoml8QXdao8wge5HZuIXxKNasvval8sTTW3JHd0eMnaxmIVL8vfw/X7tPZ5oGCSqTHHXOlQpORnMY9v9BwevxHNQVaIhkv6ilWBWtfTksCHwjcekHJGmK1NqhNXA2WUUNmyTv5eKjOAdXreAVa8ZZeP/W55diRQNpOJhErwiHuSHrR/6Rf4N10Umezs3XurKsMLXb+zksMPEmJewHzXjvds4wF1215hK3dstcIq5eE91zXwq4vcNTRtWzJy8MjCVy/tPaDCtvDib1W9rtcMC9O7OgfWx98tIJPxqsaurbk/AAHBoEU5aQnnmbR8jV57UD1PD4rlG2NW5p3AAib1WBvCamDQCwvSInq29E0NNYpYdF6vbRPYBlDgnS7yRFeZ88BIWdvE2Y7qsMDWKnPTfrKHEyG3wVOG0fcNSzzvR+G8pWAxfmiU5Lz3Y18vWIB4fM8hkTSD0S28m19wjpoOG0bTCkYUClXtvrXONtobf+v6LKR/sYavlLfLk4aildthXAj1m0B1NNEAJxFp7oujAg+SDCVhoRPZZdjJUa3o3xuQ0S9hizTy8Dmyrln5olCbxe6+wsQhz0iT3mVLUNL+cNfLeucnY7dzZl2Ej8Qidm/aK9XmkBTTRsr2PAQ8XDOdObhKedt/BjZJ5ijnWTbCcloobAUBv+C5gEfgcVsMphE=
  - secure: q3e20p6jasAQlC6C9P5De/S45xN5D9ch7EXsgX2aHWh1E+CqBJx2XUwnOigp9S/0ag0PTP8mnJDO1x/+96uJl404az+EJQj2/SmBng1EpebvYrIMKEk+Gju6yEXLy9rNcktNkZDfvNXyDadn0DYBpUEuVDQ8lNlxhttQt8L9i6VKAi31WJywMcqpNgvzMRZA9MM3lXhWO7HXrsEt9Bf1pKxlw4Y/hI4JREhIyfWMP0GJwhjTT/iWjqy20lH/93Uno9WMPsM2aGhbVWEW6qnh+wMtfDVfBqmlSOtgSz377k6r/B6lq7Pu7+8XbE2lj+ktKCnug1JXB3SrsxEL6zYXQYBVI2ZkJeO1bAUC+GKRD40rYd7ZyCMFBjqYDl24gmybVWOsoeYoO7U/bq83QbIWEBKIHHRSJiM+ovjAvfcY5Q/OkiH904ANNH3QMM7tXEDz08Xn+dRQioB0+gVbEc+GdoRGbcdB/vp83RuG+cUjqmvgKVBU4FzOgjzGQ/r/VE4h9GwtinI2FsZri4UZfB1J29yvRfomD/XWVq2wHOYs1uZoohzHzVNA27/UAyzlLRcORojOFTJ8WcIePgQfUzv3z0piKY5txWeGVlHoA5hY+Uf0HAK5lc0KZC830CgeLLVY3gKa2TMNxZFwEcYRdx9pGGqkUd+x1r6xLnn87Y8mImQ=
  - secure: dV95ufBsFnKNnbnOf1Q3x7ezXo7P7Qqnt0maIWVev6pm1PsIGNhDTCM/zBSy+AZwfgGkwUqdBpVON+K6MOAsNYq6K1EQh09HsDp1Tnm+SsXpapgcGSizqOQdqPRRumntRYVDX9j2VxySvSyvOw3fMAH0udzjGrp1jTCwmO47oDoufPSXD9FRwOuX7EHerV8YS5nrdgMILuRTbZ6PHczfNK2g+w5RSsFe5OdSSbBPqTEGjR/MO57cS3XaRbRtE51SjlXfI5vt6HxVvx8ccIgLO7TH8UK07xQjtg9lZMLo20gWl45YZXkXMKAZGuQtKewRX03uGg/FJvCm1bKypdITkvOyBrSuPoIqJfMZhTKOi3qS+4uFBkP4tgWADPm3aVw4QMJtRuhTI1d5driddA9xjXgUqp6dLbWiFor0GTf8vFHpyavKEzPRM8HGcMd54NAwzjZLI5zMpf4Fprju4BC5TBrts6jjiVuC536VPClnt9Ez8JY9zKFikq4DP8kL01X8d3dre2TaU4GAHO0ShxUv7yV740QVBBi4QvIe3rmThv3Gf6PCZ+kKk9UBqoFCu4+HR9u61DYLYnKoIt/C9DwyLahveBgLwaF5u1s39SW+0lJOgfZdZbULnIakgs6/wp89yKhzp9hBkR5u13PBimBHBF5AHQaIm0gvawOcKbBYbZ4=
  - secure: D7Ez8ZhTdynejnBI53bNjQeJQ5s0GsvYqqLYJn7bsWlVUoSGAsPgJSw4gaqWEMfg1UyIRjFdTNdb17r27y6wjy6cb/90CAR2Pnybvodkn6Dmy/uQ7G5N+STuYqiRdBbbvlYHVFLgBLZZDiVEvtEi10BGGvOPfRmuleAoQVGOFoi8Dk9CO3Iz4NxGeItMipuDBvhtY02XWgz8v5QnoQoIabCrPpE39meTU+iuAnsj/j0UsZkNB1xj9cjosCsIRJIn9M5HGyje0jTboAOA3hH9R1U2XK0ufUgvPatl2zrawZIHqxVx4G4SP/bp+jzce0HSvIncoEWkpuJJx2qzGox607imErNTcFynY0xD1Xck/J6dDoOXEu4UBF9/3sZHON4ax24wnysBJiSjksZH00Pn5FIhR6QCvGZoDanlDPjYx2oh2DReBj00OeNC50uYK7W/GmNI87UjYdRHXxD1wGgyAJgVzuX7OjXyh/AzAD8lgC5pYi+Npy7sKzzWGpcEUvp4hLtMoKwelzNDspsj9v+21tysTAZ42GfAl8jzDEonMJZv0/XFrTRrxV8hVNnR2pWEaBRMHrXenue8eagC1VVSWzb0Mm1e5jOGPAOFTpXeQ/t1Pr5VIthqXodSTmjmkJIyIV84hxleevfO/7HgMd5eQYvWpr8dXPQPaC+rIV4oOe8=
  - secure: vEvCh9fac/Sg5qaGC7vw9xBIWjzKsH18HETK21pf9SDlrffY2CRuLTySEh2csxKrtN3FoXatPbS+Lx+Dmh8ozl+GeZVep6hEyBcOP1VFD8IaD9ls/8kXR1vKDi4mgxXH2KXOlbNi+sdc6UMvEUyXvQRiVPYoX0w6TItgsqOeo9URD9kRHPt6oplqioiuKd31Ir8wWetEVViy9bXnPOz3xoYYzF0Gs2wMVDpIqbxXord1ilHRlmNxCXoxgokJRwQub3D+KZtY70+YznWVTGPCvBlJXBESOuEQQNN1qrXJSpDs2hucn8yVtJmploZXacxU3b48ERdGCES+DY6ShyekGskqYENEXKPzMoabcvzmF91QDvkdhIDCdsNRl5ehLGHAGP3p/KAbUQWAm/CMq98aUk66YN13yvs/3oE67/vVW1QxxMFtj6kczKuFzqGo9FGn93ly9jiiVSqQlSdCyfK7mJWz8w4pWYo+A601VaR/+ao8ig5f70VoURCrNhSqFyBYz5JosXMQu9pabAhEu7CujyTcgtznfKKp5qNGJoEVQIp7cFzyI9AF9zbnBh/SA0pAp5v/Op3kKuJfhf0czVvXqpUk4hIwhgsw/HA3evod8GiKoOCB7idwimA6ot38y4deIq0ZYJSl7v/9KOo9simAQUK6Derrgbf9WcViHrThSXc=
